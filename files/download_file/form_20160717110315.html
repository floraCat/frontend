<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="h_reset.css" />
	<script src="jquery-1.10.2.js"></script>
</head>
<body>

<style>
	.wBtnSms{ display:block; width:80px; height:30px; line-height:30px; margin-top:2px; text-align:center; color:#fff; background-color:#e43a3d; border-radius: 5px; -webkit-border-radius:5px; -o-border-radius:5px;}
	.wBtnSms:hover{ color:#eee;}
	.wBtnSms.off{ background-color:#aaa;}
	.fForm dl{ position:relative; overflow:hidden; margin-bottom:15px;}
	.fForm dt{ float:left; width:80px; line-height:35px; text-align:right; white-space:nowrap;}
	.fForm dd{ margin-left:90px;}
	.fForm .input{ width:100%; height:35px; padding:3px 5px; line-height:27px; box-sizing: border-box; -webkit-box-sizing: border-box; -moz-box-sizing: border-box;}
	.fForm .mgR{ margin-right:90px;}
	.fForm .posR{ position:absolute; top:0; right:0;}
	.wSwitch{ position:relative; overflow:hidden; width:70px; height:35px; background:url(images/col_form/i5_switch_bg.png) no-repeat center; background-size:100% auto;}
	.wSwitch.on{ background:url(images/col_form/i5_switch_on_bg.png) no-repeat center; background-size:100% auto;}
	.gFlex:after{ content:"."; display:block; height:0; clear:both; visibility:hidden;}
	.gFlex > *{ float:left; box-sizing:border-box; -o-box-sizing:border-box; -moz-box-sizing:border-box; -webkit-box-sizing:border-box;}
	.wCheck input{ display:none;}
	.wCheck label{ display:inline-block; height:30px; line-height:30px; padding-left:25px; background:url(images/col_form/i_check.png) no-repeat 0 center; background-size:18px;}
	.wCheck.on label{ background:url(images/col_form/i_check_on.png) no-repeat 0 center; background-size:18px;}
	.fChecks.gFlex > *{ width:23%; padding:0 1%;}
	.fForm .in2{ position:relative; margin-bottom:20px;}
	.fForm .in2 .input{ width:488px; height:40px; padding:3px 5px; line-height:34px; text-indent:45px; box-sizing: border-box; -webkit-box-sizing: border-box;}
	.fForm .in2 .mgR{ margin-right:100px;}
	.fForm .in2 .mgR input{ width:388px;}
	.fForm .in2 .posR{ position:absolute; top:0; right:0;}
	.fForm .in2 .pd{ padding:3px 8px 0 0;}
	.fForm label{ position:absolute; top:1px; left:1px; width:38px; height:38px; background:#fff no-repeat center; background-size:100% 100%;}
	.fForm label.i_pass{ background-image:url(images/col_form/i_pass.png);}
</style>
<form class="fForm" style="width:500px; margin:0 auto;">
	<dl>
	    <dt>dl_msm：<em>*</em></dt>
	    <dd class="mgR"><input class="input" type="text" name="" placeholder="请输入手机短信验证码" /></dd>
	    <div class="posR">
	        <a class="wBtnSms" data-js-yzm="3" href="javascript:;">获取验证码</a>
	    </div>
	</dl>
	<dl>
		<dt>dl_pass：<em>*</em></dt>
		<dd class="mgR"><input class="input" type="text" name="" placeholder="请输入密码" /></dd>
		<div class="posR">
			<div class="wSwitch" data-js-switch></div>
		</div>
	</dl>
    <dl>
        <dt>dl_checkbox：</dt>
        <dd>
            <ol class="fChecks gFlex" data-js-checkbox>
                <div class="wCheck"><input type="checkbox" value="1" name="fav" /><label>兴趣一</label></div>
                <div class="wCheck"><input type="checkbox" value="2" name="fav" /><label>兴趣二</label></div>
                <div class="wCheck"><input type="checkbox" value="3" name="fav" /><label>兴趣三</label></div>
                <div class="wCheck"><input type="checkbox" value="4" name="fav" /><label>兴趣四</label></div>
            </ol>
        </dd>
    </dl>
	<dl class="in2">
	    <div class="mgR">
	        <label class="i_pass"></label>
	        <input class="input" type="password" name="" placeholder="请输入密码" />
	    </div>
	    <div class="posR">
	        <div class="pd">
	            <div class="wSwitch" data-js-switch></div><!--wSwitch-->
	        </div>
	    </div>
	</dl>
</form>
<script>
function switchBtn(wrap){
	var $obj=$(wrap).find("[data-js-switch]");
	switchOn($obj);
	$obj.on("click",function(){
		$(this).toggleClass("on");
		switchOn($obj);
	});
	function switchOn(obj){
		if(obj.hasClass("on")){
			obj.parents("li").find("input").attr("type","text");
		}else{
			obj.parents("li").find("input").attr("type","password");
		}
	}
}
function wCheck(wrap){
    $(wrap).find("input[checked]").parent(".wCheck").addClass("on").siblings(".wCheck").removeClass("on");
    $(wrap).find("[ data-js-checkbox] label").click(function(){
        $(this).parent().toggleClass("on"); 
        if($(this).parent().hasClass("on")){
            $(this).siblings("input").attr("checked",true); 
        }else{
            $(this).siblings("input").attr("checked",false);    
        }
    });
}
function switchBtn(wrap){
	var $obj=$(wrap).find("[data-js-switch]");
	switchOn($obj);
	$obj.on("click",function(){
		$(this).toggleClass("on");
		switchOn($obj);
	});
	function switchOn(obj){
		if(obj.hasClass("on")){
			obj.parents("li").find("input").attr("type","text");
		}else{
			obj.parents("li").find("input").attr("type","password");
		}
	}
}
$(function(){
	//手机获取验证码
	$("[data-js-yzm]").delegate("","click",function(){
		if(!$(this).hasClass("off")){
			$(this).addClass("off");
			var second=$(this).data("js-yzm");
			$(this).text("剩下"+second+"秒");
			$this=$(this);
			count(second);
		}
		function count(i){
			setI=setInterval(function(){
				if(i>0){
					i--;
					$this.text("剩下"+i+"秒");
				}else{
					clearInterval(setI);
					$this.removeClass("off").text("重获验证码");
				}
			},1000);
		}
	});	
	switchBtn(".fForm");
	wCheck(".fForm");
});
</script>

</body>
</html>